---
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

const projects: CollectionEntry<'projects'>[] = await getCollection('projects');;

---

<div id="projects" class="container">
    <h3>
        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="56" viewBox="0 0 576 512">
            <path fill="#835900" d="M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4l-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l73.3-73.4c12.5-12.5 12.5-32.8 0-45.3z"/>
        </svg>
        Proyectos
    </h3>
    <section>
        {
            projects.map((project) => {

                const { title, description, img, buttons } = project.data;

                return (
                    <article class="project-container">
                        <img src={img} alt={title}>
                        <div class="presentation">
                            <h4>{title}</h4>
                            <p>{description}</p>
                            <div class="links-container">
                                {
                                    buttons.map(button => {
                                        const { label, url, svg, alt } = button;
                                        return (
                                            <a class="link" href={url}>
                                                <img src={svg} alt={label}>
                                                {alt}
                                            </a>
                                        )
                                    })
                                }
                            </div>
                        </div>
                    </article>
                )
            })
        }
    </section>
</div>